\hypertarget{serial_8h}{}\doxysection{include/mpx/serial.h File Reference}
\label{serial_8h}\index{include/mpx/serial.h@{include/mpx/serial.h}}


Kernel functions and constants for handling serial I/O.  


{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$mpx/device.\+h$>$}\newline
Include dependency graph for serial.\+h\+:
% FIG 0
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{serial_8h_a59d1db7894c07b31b520be0ae0a32896}{serial\+\_\+init}} (device dev)
\item 
int \mbox{\hyperlink{serial_8h_a7e049d65b09969503d73dd367775d0f6}{serial\+\_\+out}} (device dev, const char $\ast$buffer, size\+\_\+t len)
\item 
int \mbox{\hyperlink{serial_8h_a1e9204d031fa281b2983b1e97859c179}{serial\+\_\+poll}} (device dev, char $\ast$buffer, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Reads a string from a serial port. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{serial_8h_af543ea6e878d9edde4567b8b375abd83}{backspace}} (int $\ast$pos, int $\ast$end, char $\ast$buffer, device dev)
\begin{DoxyCompactList}\small\item\em Helper method for serial\+\_\+poll that does the work of a backspace. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Kernel functions and constants for handling serial I/O. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{serial_8h_af543ea6e878d9edde4567b8b375abd83}\label{serial_8h_af543ea6e878d9edde4567b8b375abd83}} 
\index{serial.h@{serial.h}!backspace@{backspace}}
\index{backspace@{backspace}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{backspace()}{backspace()}}
{\footnotesize\ttfamily void backspace (\begin{DoxyParamCaption}\item[{int $\ast$}]{pos,  }\item[{int $\ast$}]{end,  }\item[{char $\ast$}]{buffer,  }\item[{device}]{dev }\end{DoxyParamCaption})}



Helper method for serial\+\_\+poll that does the work of a backspace. 

\begin{DoxyAuthor}{Author}
Noah Marner 

Blake Wagner
\end{DoxyAuthor}
This function is used when a backspace or delete character is input. If there is a backspace, the function is simply called. When a delete character is input, the position is set forward one and then the function is called. 
\begin{DoxyParams}{Parameters}
{\em pos} & The current position in the buffer \\
\hline
{\em end} & The farthest position that has been reached in the buffer \\
\hline
{\em buffer} & A buffer that stores the current string \\
\hline
{\em dev} & The serial port to read data from \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{serial_8h_a59d1db7894c07b31b520be0ae0a32896}\label{serial_8h_a59d1db7894c07b31b520be0ae0a32896}} 
\index{serial.h@{serial.h}!serial\_init@{serial\_init}}
\index{serial\_init@{serial\_init}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_init()}{serial\_init()}}
{\footnotesize\ttfamily int serial\+\_\+init (\begin{DoxyParamCaption}\item[{device}]{dev }\end{DoxyParamCaption})}

Initializes devices for user input and output 
\begin{DoxyParams}{Parameters}
{\em device} & A serial port to initialize (C\+O\+M1, C\+O\+M2, C\+O\+M3, or C\+O\+M4) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, non-\/zero on failure 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_a7e049d65b09969503d73dd367775d0f6}\label{serial_8h_a7e049d65b09969503d73dd367775d0f6}} 
\index{serial.h@{serial.h}!serial\_out@{serial\_out}}
\index{serial\_out@{serial\_out}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_out()}{serial\_out()}}
{\footnotesize\ttfamily int serial\+\_\+out (\begin{DoxyParamCaption}\item[{device}]{dev,  }\item[{const char $\ast$}]{buffer,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}

Writes a buffer to a serial port 
\begin{DoxyParams}{Parameters}
{\em device} & The serial port to output to \\
\hline
{\em buffer} & A pointer to an array of characters to output \\
\hline
{\em len} & The number of bytes to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes written 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_a1e9204d031fa281b2983b1e97859c179}\label{serial_8h_a1e9204d031fa281b2983b1e97859c179}} 
\index{serial.h@{serial.h}!serial\_poll@{serial\_poll}}
\index{serial\_poll@{serial\_poll}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_poll()}{serial\_poll()}}
{\footnotesize\ttfamily int serial\+\_\+poll (\begin{DoxyParamCaption}\item[{device}]{dev,  }\item[{char $\ast$}]{buffer,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}



Reads a string from a serial port. 

\begin{DoxyAuthor}{Author}
Noah Marner 

Blake Wagner
\end{DoxyAuthor}
This function is used to read in data from the console. It reads characters until either the length limit is reached or an enter key is read in. Special characters such as backspace, delete and arrow keys are also handled in this function. 
\begin{DoxyParams}{Parameters}
{\em device} & The serial port to read data from \\
\hline
{\em buffer} & A buffer to write data into as it is read from the serial port \\
\hline
{\em count} & The maximum number of bytes to read \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes read on success, a negative number on failure 
\end{DoxyReturn}
